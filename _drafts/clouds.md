---
title: Міграція в хмари
---

Нотатка більше для самого себе, про процес міграції у хмари.

У мене вдома стоїть старий системний блок, який відіграє роль сервера. Йому багато років. Од самого початку він не був потужним — навпаки, я спеціально шукав материнську плату з процесором, якому не потрібне активне охолодження. Він пережив чимало всього, навіть переїзд з одного зовнішнього ip на інший (під час фізичного переїзду в сусідній мікрорайон).

Сервер був побудований як допоміжний інструмент, і він повністю відповідає моїм вподобанням. Зокрема, в ньому два фізичних HDD однієї моделі і однакового розміру, які працюють в режимі дзеркалювання (RAID 1). А ще в нього ці диски повністю зашифровані.


## Що було

У мене там в різний час жили самі різні сервіси. Веб-сервер (Apache/MySQL/PHP), само собою. Samba для звалища файлів в моїй локальній мережі. Різний веселий локальний мотлох — DHCPD, NFS, NTP і всякі TFTP. MRTG та Webalizer. Мільйон скриптів для збірки моїх сайтів, для збереження знімків з веб-камери, для якихось хитрих автоматичних процесів.

Там колись жив справжній поштовий сервер (Postfix), бо у провайдера була передбачена можливість розблокувати 25 порт та навіть налашувати back-resolving.

Також там і досі живе DNS-сервер (Bind9), але нині його роль дещо зменшилася.


## Весна 2022

Минулої весни я почав переносити все що можна у хмари. Всі сайти, DNS, пошта, завжди працюючий під screen'ом клієнт IRC та багато іншого — бо вторгнення, бо велика війна, бо наявна пряма і безпосередня фізична небезпека.

Крім фізичної небезпеки, були інші міркування: чи доречно взагалі тримати якийсь сервер у себе вдома?


## Осінь-зима 2022-23

Рік тому почалися проблеми з електрикою, від першого повного блекаута і до подачі світла по графіку «стабілізаційних» відключень. Сервер іноді не працював кілька діб поспіль. В кращі дні він запускався вручну двічі на день (вручну, бо диски зашифровані).

Я до весни виніс в хмари рештки всього, що тільки можна було.


## Зворотній напрямок

Чому? Як? _Нахіба?_ Що коїться, про що мова?

Поки не можу визначитися остаточно, але деякі сервіси просто не лізуть в хмарний формат. Наприклад, той же ownCloud (або вже NextCloud). Я теоретично можу його запустити на якійсь з віртуальних машин. А фактично саме у хмарі він мені не дуже потрібен. То що ж з ним робити? Невже перенести назад?

Треба переосмислити всю картину в цілому. Звісно, ці питання вилізли саме зараз, після тривалого періоду стабільності (тривалого, тобто десь півроку, ха-ха). І ці дурні ідеї зникнуть, якщо (коли) світло знову будуть подавати по графіку.
