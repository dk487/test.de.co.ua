---
title: Мікрокроки з прискоренням
date: 2021-09-19 18:40:34 +03:00
---

Кілька тижнів тому я грався з програмною реалізацією мікрокроків (<span lang="en">microsteps</span>) для маленького крокового двигуна.

З мікрокроками двигун звучить тихіше і рухається начебто більш плавно.

 - [Джерельний код][2]
 - [Відео роботи двигуна на YouTube][1]

Перехід між кроками роблю якось так: спочатку пишемо старий стан і чекаємо 300 μs (мікросекунд), потім на 10 μs робимо новий, потім ще 290 μs старий, потім 20 μs новий, і так далі. Дуже просто і примітивно. 9 ms на один повний крок.

Моя наступна мета така: хочу починати рух повільно, а потім збільшувати швидкість. Питання в тому, як же це порахувати правильно. Ну, нехай це буде звичайний рівноприскорений обертальний рух аж до виходу на максимальну швидкість. Наче має бути проста арифметика з шкільного підручника фізики, чи не так?

Щось не зовсім проста. І щось я туплю.

Далі буде.

[1]: https://www.youtube.com/watch?v=0g9wiJC0UCM
[2]: https://github.com/kastaneda/arduino_sandbox/blob/master/sketch_jul24a_stepper_28byj48/sketch_jul24a_stepper_28byj48.ino
