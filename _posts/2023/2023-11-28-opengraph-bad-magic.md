---
title: OpenGraph bad magic
title_lang: en
date: 2023-11-28 04:43:23 +02:00
mtime: 2023-11-28 04:55:11 +02:00
opengraph: /opengraph/2023-11-28-opengraph-bad-magic.png
---

Намагаюся зробити одну дуже збочену фігню. Так, подивимось…

Я рік тому зробив [мінімальну підтримку][1] OpenGraph. Відтоді всі пости мають якусь заставку «за замовчанням». Це добре, але мало.

В деяких постах я руками вказую окрему картинку, і це зазвичай непогано. Це буває в постах, де вже і так є якісь зображення. Наприклад, [ось тут є знімок екрану][2], і я в цьому пості використовую для заставки OpenGraph зображення, згенероване з цього знімку екрану (відмасштабоване і обрізане до стандартного розміру 1200×630). Це все трохи незручно, але воно того варте.

Але що робити для постів без картинок? Іноді хочеться щось утнути.

Хочеться написати у front matter поста якусь фігню, типу такого:

```yaml
opegraph_generator:
  template: clickbait01.svg
  label_row1: Погана магія
  label_row2: OpenGraph
  key_color: ff0
```

…і щоб далі Jekyll та Makefile та мої скрипти магічним чином з шаблона і цих змінних створили файл, скажімо, [`opengraph/2023-11-28-opengraph-bad-magic.svg`][3] (далі вже просто). Ви ж в курсі, шаблони ж не тільки для <abbr>HTML</abbr>? Ними можна генерувати будь-що текстове — <abbr>RSS</abbr>, <abbr>JSON</abbr>, можна і <abbr>SVG</abbr>.

Але я поки не придумав, як би це зробити. Зокрема, велике западло у тому, що все що робе Jenkins потрапляє у вихідний підкаталог `_site`, а це зовсім не те що треба.

[1]: /2022/07/16/opengraph-image.html
[2]: /2023/10/16/hello-kubuntu.html
[3]: https://github.com/dk487/test.de.co.ua/blob/master/opengraph/2023-11-28-opengraph-bad-magic.svg?short_path=5058a56
