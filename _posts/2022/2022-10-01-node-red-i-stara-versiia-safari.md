---
title: Node-RED і стара версія Safari
date: 2022-10-01 03:04:33 +03:00
mtime: 2022-10-03 15:45:36 +03:00
---

У мене є антиква́рний iPad 2, і там стоїть Safari 9. Оновити неможливо, на жаль.

Багато сайтів на цій Safari не працюють. Зокрема дашбо́рди Node-RED. Дідько.

Поки що я ви́крутився через VNC: запуска́ю браузер та VNC-сервер десь на компі́ (точніше [в Docker'і][1]), клієнта VNC на планшеті, з'єднуюся і все, телема́ркет. Збочення, але працює.

Але, може, є якісь норма́льніший шлях, не такий збочений?

_Оновлено 23:52._ Якщо без Docker, то можна буквально отак:

```sh
chromium --temp-profile --window-size=1024,768 --app=http://127.0.0.1:1880/ui/
x11vnc -forever -loop -noxdamage -repeat -shared -id pick
```

Аналога для Firefox не знаю. Ключ `--kiosk` є, але він годи́ться лише для запуску у full screen. Запуск Firefox у вікні певного розміру (щоб по VNC нічого не масштабува́ти) можливий, але з елементами UI. Був ключ `--ssb`, але його випиляли.

Але краще таки ж запускати браузер в Docker зі звичайним `--kiosk`, бо інакше можливі неочікувані спецефекти: то зображення зникає при перемика́нні X11 на інший VT, то на неакти́вному робочому столі вікно не оновлюється.

_Оновлено 01:14._ Якщо запускати з Docker, то якось так:

```sh
docker run -it --rm -p5900:5900 --shm-size=1g \
  -e SCREEN_SIZE=1024x768 \
  -e KIOSK=http://172.17.0.1:1880/ui/ \
  kastaneda/vnc_x11
```

Тут `172.17.0.1` — це ваш localhost, якщо дивитися на нього з Docker'а, а 1880 — це стандартний порт Node-RED. До речі, Node-RED теж чудово [запускається у Docker'і][2].

[1]: https://github.com/kastaneda/vnc_x11
[2]: https://nodered.org/docs/getting-started/docker
